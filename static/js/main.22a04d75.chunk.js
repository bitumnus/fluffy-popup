(this["webpackJsonpfluffy-popup"]=this["webpackJsonpfluffy-popup"]||[]).push([[0],{28:function(e,t,n){e.exports=n(63)},33:function(e,t,n){},34:function(e,t,n){},35:function(e,t,n){},42:function(e,t,n){},61:function(e,t,n){},62:function(e,t,n){},63:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(4),c=n.n(o),l=(n(33),n(5)),u=(n(34),n(35),function(e){return a.a.createElement("button",{onClick:e.onClick,className:"Button ".concat(e.type),disabled:e.disabled},e.children)}),s=Object(r.forwardRef)((function(e,t){var n=Object(r.useState)(!1),o=Object(l.a)(n,2),s=o[0],i=o[1];Object(r.useImperativeHandle)(t,(function(){return{openModal:function(){return d()},close:function(){return m()}}}));var d=function(){i(!0)},m=function(){i(!1)};return s?c.a.createPortal(a.a.createElement("div",{className:"modal-wrapper"},a.a.createElement("div",{onClick:m,className:"modal-backdrop"}),a.a.createElement("div",{className:"modal-box"},a.a.createElement("div",{className:"modal-header"},a.a.createElement("h2",null,e.title),a.a.createElement(u,{type:"close",onClick:m},"\xd7")),e.children)),document.getElementById("modal-root")):null})),i=n(1),d=n(20),m=n(21),f=n(27),E=n(26),p=n(3);n(42);var v=function(e){var t=e.type||"text",n="".concat(t,"-").concat(Math.random());return a.a.createElement("div",{className:"Input"},a.a.createElement("label",{htmlFor:n},e.label),a.a.createElement("input",{type:t,id:n,value:e.value,onChange:e.onChange}),function(e){var t=e.valid,n=e.touched,r=e.shouldValidate;return!t&&r&&n}(e)?a.a.createElement("span",null,e.errorMessage||"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0432\u0435\u0440\u043d\u043e\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435"):null)},b=n(10),O=n.n(b),w=n(23),h=n(24),j=n.n(h).a.create({baseURL:"https://react-quiz-3e9b0.firebaseio.com/"});function T(e){return{type:"CREATE_TEXT",text:e}}function y(){return{type:"FETCH_TEXT_START"}}function _(e){return{type:"FETCH_TEXT_ERROR",error:e}}function C(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!t)return!0;var n=!0;return t.required&&(n=""!==e.trim()&&n),n}function R(e){var t=!0;for(var n in e)e.hasOwnProperty(n)&&(t=e[n].valid&&t);return t}function g(e,t,n){return r={label:"\u0412\u0432\u0435\u0434\u0438 ".concat(t),errorMessage:"\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u043f\u0443\u0441\u0442\u044b\u043c",value:n,id:e},a={required:!0},Object(i.a)(Object(i.a)({},r),{},{validation:a,valid:!a,touched:!1});var r,a}function S(e){return{word1:g(1,"\u0418\u043c\u044f \u0442\u0432\u043e\u0435\u0433\u043e \u0434\u0440\u0443\u0433\u0430",e?e.word1.value:""),word2:g(2,"\u043f\u0440\u0438\u043b\u0430\u0433\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 (\u043a\u0430\u043a\u043e\u0439?)",e?e.word2.value:""),word3:g(3,"\u0447\u0430\u0441\u0442\u044c \u0442\u0435\u043b\u0430",e?e.word3.value:""),word4:g(4,"\u0433\u043b\u0430\u0433\u043e\u043b (\u0447\u0442\u043e \u0441\u0434\u0435\u043b\u0430\u043b?)",e?e.word4.value:"")}}var k=function(e){Object(f.a)(n,e);var t=Object(E.a)(n);function n(){var e;Object(d.a)(this,n);for(var r=arguments.length,o=new Array(r),c=0;c<r;c++)o[c]=arguments[c];return(e=t.call.apply(t,[this].concat(o))).state={formControls:S(e.props.words),isFormValid:!1},e.submitHandler=function(e){e.preventDefault()},e.sentWords=function(){e.props.onAdd(e.state.formControls),e.props.closeModal()},e.changeHandler=function(t,n){var r=e.state.formControls,a=Object(i.a)({},r[n]);a.name=n,a.touched=!0,a.value=t,a.valid=C(a.value,a.validation),r[n]=a,e.setState({formControls:r,isFormValid:R(r)})},e.renderControls=function(){return Object.keys(e.state.formControls).map((function(t,n){var r=e.state.formControls[t];return a.a.createElement(v,{key:n,label:r.label,value:r.value,valid:r.valid,shouldValidate:!!r.validation,touched:r.touched,errorMessage:r.errorMessage,onChange:function(n){return e.changeHandler(n.target.value,t)}})}))},e}return Object(m.a)(n,[{key:"render",value:function(){return a.a.createElement("div",null,a.a.createElement("form",{onSubmit:this.submitHandler},this.renderControls(),a.a.createElement(u,{type:"primary",disabled:!this.state.isFormValid,onClick:this.sentWords},"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0438\u0441\u0442\u043e\u0440\u0438\u044e")))}}]),n}(r.Component);var M=Object(p.b)((function(e){return{words:e.words}}),(function(e){return{onAdd:function(t){return e(function(e){return{type:"ADD_WORDS",words:e}}(t))}}}))(k);n(61);var N=Object(p.b)((function(e){return{words:e.words}}),(function(e){return{post:function(t){return e(function(e){return function(){var t=Object(w.a)(O.a.mark((function t(n,r){return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(y),n(T(e)),t.prev=2,t.next=5,j.post("/storys1.json",r().text).then((function(e){200===e.status?(n({type:"FETCH_TEXT_RESPONSE",response:e}),n({type:"RESET_GAME"})):(n(_(e)),n({type:"RESET_GAME"}))}));case 5:t.next=10;break;case 7:t.prev=7,t.t0=t.catch(2),n(_(t.t0.response));case 10:case"end":return t.stop()}}),t,null,[[2,7]])})));return function(e,n){return t.apply(this,arguments)}}()}(t))}}}))((function(e){var t=e.words,n=e.closeModal,o=e.post,c=Object(r.useRef)(),s=Object(r.useState)(a.a.createElement("div",{ref:c},"\u041f\u0440\u0438\u0432\u0435\u0442, ",a.a.createElement("span",null,t.word1.value),". \u0412\u0438\u0434\u0435\u043b \u0442\u0432\u043e\u0435\u0433\u043e \u0431\u0440\u0430\u0442\u0430, \u043e\u043d \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u043d\u043e ",a.a.createElement("span",null,t.word2.value),". \u041f\u043e\u0442\u043e\u043c \u043c\u043d\u0435 \u043e\u0447\u0435\u043d\u044c \u0437\u0430\u0431\u043e\u043b\u0435\u043b ",a.a.createElement("span",null,t.word3.value),". \u0418 \u044f \u0431\u044b\u0441\u0442\u0440\u043e ",a.a.createElement("span",null,t.word4.value)," \u043f\u0440\u044f\u043c\u043e \u0432\u043e \u0434\u0432\u043e\u0440\u0435.")),i=Object(l.a)(s,2),d=i[0];i[1];return a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:"card"},d),a.a.createElement(u,{type:"primary",onClick:function(e){e.preventDefault();var t={text:c.current.textContent};o(t),n()}},"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c \u044d\u0442\u043e \u043a\u0443\u0434\u0430-\u0442\u043e"))})),x=function(e){var t="";switch(e.response.status){case 200:return"\u0412\u0441\u0451 ".concat(e.response.statusText,". \u041e\u0447\u0435\u043d\u044c \u0441\u043c\u0435\u0448\u043d\u043e :)");case 403:return"\u0415\u0449\u0451 \u043f\u043e\u0434\u0443\u043c\u0430\u0439: ".concat(e.response.data.status);case 404:return"\u041d\u0435 \u0442\u0443\u0434\u0430 \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u044f\u0435\u0448\u044c: ".concat(e.response.data.error);case 500:return"\u0423 \u0441\u0435\u0440\u0432\u0435\u0440\u0430 \u0431\u0435\u0434\u043e\u0441\u044f: ".concat(e.response.data.error)}return a.a.createElement(a.a.Fragment,null,t)};var A=Object(p.b)((function(e){return{words:e.words,error:e.error,success:e.success}}))((function(e){var t=e.words,n=e.success,o=e.error,c=Object(r.useRef)(),i=Object(r.useRef)(),d=Object(r.useState)(!1),m=Object(l.a)(d,2),f=m[0],E=m[1];return Object(r.useEffect)((function(){return function(){setTimeout((function(){E(!0)}),500),setTimeout((function(){E(!1)}),5e3)}}),[n,o]),a.a.createElement(a.a.Fragment,null,(n||o)&&f&&a.a.createElement("div",{className:n?"success":"error"},a.a.createElement(x,{response:n||o})),a.a.createElement("br",null),a.a.createElement("div",{className:"main"},a.a.createElement("p",null,'\u0425\u043e\u0447\u0435\u0448\u044c \u043f\u043e\u0432\u0435\u0441\u0435\u043b\u0438\u0442\u044c\u0441\u044f? \u041f\u043e\u0441\u043b\u0435 \u043d\u0430\u0436\u0430\u0442\u0438\u044f "\u0418\u0433\u0440\u0430\u0442\u044c" \u0432\u044b\u0441\u043a\u043e\u0447\u0438\u0442 \u0444\u043e\u0440\u043c\u0430. \u0417\u0430\u043f\u043e\u043b\u043d\u0438 \u043f\u043e\u043b\u044f \u0441\u043e\u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0443\u044e\u0449\u0438\u043c\u0438 \u0441\u043b\u043e\u0432\u0430\u043c\u0438. \u041f\u0440\u043e\u044f\u0432\u043b\u044f\u0439 \u0444\u0430\u043d\u0442\u0430\u0437\u0438\u044e. \u041e\u0442\u043f\u0440\u0430\u0432\u043b\u044f\u0439 \u043d\u0430\u043c \u0441\u043b\u043e\u0432\u0430, \u043c\u044b \u0441\u043e\u0431\u0435\u0440\u0435\u043c \u0438\u0441\u0442\u043e\u0440\u0438\u044e. \u041f\u0440\u043e\u0447\u0438\u0442\u0430\u0442\u044c \u0435\u0451 \u0441\u043c\u043e\u0436\u0435\u0448\u044c \u0442\u043e\u043b\u044c\u043a\u043e \u043a\u043e\u0433\u0434\u0430 \u043e\u0442\u043f\u0440\u0430\u0432\u0438\u0448\u044c \u0441\u043b\u043e\u0432\u0430 \u0438 \u043f\u043e\u0442\u043e\u043c \u043d\u0430\u0436\u043c\u0451\u0448\u044c \u043d\u0443\u0436\u043d\u0443\u044e \u043a\u043d\u043e\u043f\u043a\u0443. \u0423\u0434\u0430\u0447\u0438!'),a.a.createElement(u,{type:"primary",onClick:function(){return i.current.openModal()}},"\u0418\u0433\u0440\u0430\u0442\u044c"),a.a.createElement(u,{type:"primary",onClick:function(){return c.current.openModal()},disabled:!t},"\u0421\u043e\u0431\u0440\u0430\u0442\u044c \u0438\u0441\u0442\u043e\u0440\u0438\u044e"),a.a.createElement(s,{ref:i,title:"\u0414\u0430\u0432\u0430\u0439 \u0438\u0433\u0440\u0430\u0442\u044c"},a.a.createElement(M,{words:t,closeModal:function(){return i.current.close()}.bind(void 0)})),a.a.createElement(s,{ref:c,title:"\u0422\u0432\u043e\u044f \u0438\u0441\u0442\u043e\u0440\u0438\u044f"},a.a.createElement(N,{closeModal:function(){return c.current.close()}.bind(void 0)}))))}));n(62);var F=function(){return a.a.createElement("div",{className:"App"},a.a.createElement(A,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var D=n(6),X={words:null,text:null,success:null,error:null};var H=n(25),V="object"===typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({}):D.c,I=Object(D.d)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:X,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_WORDS":return Object(i.a)(Object(i.a)({},e),{},{words:t.words});case"FETCH_TEXT_START":return Object(i.a)({},e);case"CREATE_TEXT":return Object(i.a)(Object(i.a)({},e),{},{text:t.text});case"FETCH_TEXT_RESPONSE":return Object(i.a)(Object(i.a)({},e),{},{success:t.response});case"FETCH_TEXT_ERROR":return Object(i.a)(Object(i.a)({},e),{},{error:t.error});case"RESET_GAME":return Object(i.a)(Object(i.a)({},e),{},{words:null,text:null});default:return e}}),V(Object(D.a)(H.a)));c.a.render(a.a.createElement(p.a,{store:I},a.a.createElement(a.a.StrictMode,null,a.a.createElement(F,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[28,1,2]]]);
//# sourceMappingURL=main.22a04d75.chunk.js.map